#!/bin/bash

# AWS Region 설정
REGION="ap-northeast-2"

echo "Creating AWS Secrets Manager secrets..."

# 1. Database credentials secret
aws secretsmanager create-secret \
  --name drop/backend/db-credentials \
  --description "Drop backend database credentials" \
  --secret-string '{
    "username": "your-db-username",
    "password": "your-db-password",
    "host": "your-rds-endpoint.rds.amazonaws.com",
    "port": "3306",
    "database": "drop"
  }' \
  --region $REGION

# 2. OAuth credentials secret
aws secretsmanager create-secret \
  --name drop/backend/oauth-credentials \
  --description "Drop backend OAuth credentials" \
  --secret-string '{
    "google-client-id": "your-google-client-id.apps.googleusercontent.com",
    "google-client-secret": "your-google-client-secret"
  }' \
  --region $REGION

# 3. JWT secret key
aws secretsmanager create-secret \
  --name drop/backend/jwt-secret \
  --description "Drop backend JWT secret key" \
  --secret-string '{
    "secret-key": "your-jwt-secret-key-at-least-256-bits"
  }' \
  --region $REGION

# 4. AES secret key
aws secretsmanager create-secret \
  --name drop/backend/aes-secret \
  --description "Drop backend AES secret key" \
  --secret-string '{
    "secret-key": "your-aes-secret-key-16-bytes"
  }' \
  --region $REGION

# 5. Kakao API key
aws secretsmanager create-secret \
  --name drop/backend/kakao-api \
  --description "Drop backend Kakao API key" \
  --secret-string '{
    "key": "your-kakao-api-key"
  }' \
  --region $REGION

# 6. Redis connection info
aws secretsmanager create-secret \
  --name drop/backend/redis-connection \
  --description "Drop backend Redis connection info" \
  --secret-string '{
    "host": "your-elasticache-endpoint.cache.amazonaws.com",
    "port": "6379"
  }' \
  --region $REGION

echo "Secrets created successfully!"
echo ""
echo "To update a secret later, use:"
echo "aws secretsmanager update-secret --secret-id drop/backend/db-credentials --secret-string '{...}' --region $REGION"
